<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ngx-amap-demo documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/stripe.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">ngx-amap-demo documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content directive">
                   <div class="content-data">






<ol class="breadcrumb">
  <li>Directives</li>
  <li>AmapMarkerDirective</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts</code>
        </p>


            <p class="comment">
                <h3>Implements</h3>
            </p>
            <p class="comment">
                            <code><a href="https://angular.io/api/core/OnChanges" target="_blank" >OnChanges</a></code>
                            <code><a href="https://angular.io/api/core/OnDestroy" target="_blank" >OnDestroy</a></code>
                            <code><a href="https://angular.io/api/core/AfterContentInit" target="_blank" >AfterContentInit</a></code>
            </p>


        <section>
            <h3>Metadata</h3>
            <table class="table table-sm table-hover">
                <tbody>
                    <tr>
                        <td class="col-md-3">Providers</td>
                        <td class="col-md-9">
                            <code>
                                AmapMarkerService
                            </code>
                        </td>
                    </tr>

                    <tr>
                        <td class="col-md-3">Selector</td>
                        <td class="col-md-9"><code>amap-marker</code></td>
                    </tr>

                </tbody>
            </table>
        </section>

            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#infoWindowComponent">infoWindowComponent</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#inited">inited</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#subscription">subscription</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#get">get</a>
                            </li>
                            <li>
                                <a href="#ngAfterContentInit">ngAfterContentInit</a>
                            </li>
                            <li>
                                <a href="#ngOnChanges">ngOnChanges</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy">ngOnDestroy</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#updateInfoWindow">updateInfoWindow</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#updateInfoWindowPosition">updateInfoWindowPosition</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#anchor">anchor</a>
                            </li>
                            <li>
                                <a href="#angle">angle</a>
                            </li>
                            <li>
                                <a href="#animation">animation</a>
                            </li>
                            <li>
                                <a href="#autoRotation">autoRotation</a>
                            </li>
                            <li>
                                <a href="#content">content</a>
                            </li>
                            <li>
                                <a href="#hidden">hidden</a>
                            </li>
                            <li>
                                <a href="#icon">icon</a>
                            </li>
                            <li>
                                <a href="#inCluster">inCluster</a>
                            </li>
                            <li>
                                <a href="#isTop">isTop</a>
                            </li>
                            <li>
                                <a href="#label">label</a>
                            </li>
                            <li>
                                <a href="#offset">offset</a>
                            </li>
                            <li>
                                <a href="#openInfoWindow">openInfoWindow</a>
                            </li>
                            <li>
                                <a href="#position">position</a>
                            </li>
                            <li>
                                <a href="#raiseOnDrag">raiseOnDrag</a>
                            </li>
                            <li>
                                <a href="#shadow">shadow</a>
                            </li>
                            <li>
                                <a href="#shape">shape</a>
                            </li>
                            <li>
                                <a href="#title">title</a>
                            </li>
                            <li>
                                <a href="#topWhenClick">topWhenClick</a>
                            </li>
                            <li>
                                <a href="#visible">visible</a>
                            </li>
                            <li>
                                <a href="#zIndex">zIndex</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Outputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#naDragEnd">naDragEnd</a>
                            </li>
                            <li>
                                <a href="#naDragging">naDragging</a>
                            </li>
                            <li>
                                <a href="#naDragStart">naDragStart</a>
                            </li>
                            <li>
                                <a href="#naMouseOut">naMouseOut</a>
                            </li>
                            <li>
                                <a href="#naMoveAlong">naMoveAlong</a>
                            </li>
                            <li>
                                <a href="#naMoveEnd">naMoveEnd</a>
                            </li>
                            <li>
                                <a href="#naMoving">naMoving</a>
                            </li>
                            <li>
                                <a href="#naReady">naReady</a>
                            </li>
                        </ul>
                    </td>
                </tr>



        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(os: <a href="../injectables/AmapMarkerService.html">AmapMarkerService</a>, binder: <a href="../injectables/EventBinderService.html">EventBinderService</a>, amaps: <a href="../injectables/AMapService.html">AMapService</a>, pixels: <a href="../injectables/PixelService.html">PixelService</a>, icons: <a href="../injectables/IconService.html">IconService</a>, mlabels: <a href="../injectables/MarkerLabelService.html">MarkerLabelService</a>, logger: <a href="../injectables/LoggerService.html">LoggerService</a>, ngZone: <a href="https://angular.io/api/core/NgZone" target="_blank">NgZone</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="152" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:152</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>os</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AmapMarkerService.html" target="_self" >AmapMarkerService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>binder</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/EventBinderService.html" target="_self" >EventBinderService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>amaps</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AMapService.html" target="_self" >AMapService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>pixels</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PixelService.html" target="_self" >PixelService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>icons</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/IconService.html" target="_self" >IconService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>mlabels</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/MarkerLabelService.html" target="_self" >MarkerLabelService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>logger</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/LoggerService.html" target="_self" >LoggerService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>ngZone</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/core/NgZone" target="_blank" >NgZone</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="anchor"></a>
                        <b>anchor</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>AMap.Marker.Anchor</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="63" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:63</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>标记锚点</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="angle"></a>
                        <b>angle</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="95" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:95</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>点标记的旋转角度</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="animation"></a>
                        <b>animation</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>AMap.AnimationName</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="103" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:103</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>点标记的动画效果</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="autoRotation"></a>
                        <b>autoRotation</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="99" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:99</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>是否自动旋转</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="content"></a>
                        <b>content</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | HTMLElement</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="75" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:75</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>点标记显示内容</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="hidden"></a>
                        <b>hidden</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="127" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:127</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>额外: 是否隐藏</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="icon"></a>
                        <b>icon</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/IIcon.html" target="_self" >string | AMap.Icon | IIcon</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="71" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:71</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>需在点标记中显示的图标</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="inCluster"></a>
                        <b>inCluster</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="131" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:131</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>额外: 是否包含在点聚合中</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isTop"></a>
                        <b>isTop</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="123" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:123</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>额外: 是否置顶</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="label"></a>
                        <b>label</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/IMarkerLabel.html" target="_self" >AMap.Marker.Label | IMarkerLabel</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="119" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:119</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>文本标注</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="offset"></a>
                        <b>offset</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#IPixel" target="_self" >AMap.Pixel | IPixel</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:67</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>点标记显示位置偏移量</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="openInfoWindow"></a>
                        <b>openInfoWindow</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="135" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:135</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>额外: 点击时是否显示信息窗体</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="position"></a>
                        <b>position</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>AMap.LocationValue</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="59" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:59</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>点标记在地图上显示的位置</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="raiseOnDrag"></a>
                        <b>raiseOnDrag</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="83" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:83</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>拖拽点标记时是否开启点标记离开地图的效果</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="shadow"></a>
                        <b>shadow</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/IIcon.html" target="_self" >AMap.Icon | string | IIcon</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="107" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:107</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>点标记阴影</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="shape"></a>
                        <b>shape</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>AMap.MarkerShape</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="115" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:115</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>可点击区域</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="title"></a>
                        <b>title</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="111" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:111</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>鼠标滑过点标记时的文字提示</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="topWhenClick"></a>
                        <b>topWhenClick</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="79" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:79</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>鼠标点击时marker是否置顶</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="visible"></a>
                        <b>visible</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="87" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:87</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>点标记是否可见</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="zIndex"></a>
                        <b>zIndex</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="91" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:91</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>点标记的叠加顺序</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>
            <section>
    <h3 id="outputs">Outputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="naDragEnd"></a>
                        <b>naDragEnd</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventEmitter&lt;any&gt;</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="142" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:142</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="naDragging"></a>
                        <b>naDragging</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventEmitter&lt;any&gt;</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="141" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:141</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="naDragStart"></a>
                        <b>naDragStart</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventEmitter&lt;any&gt;</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="140" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:140</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="naMouseOut"></a>
                        <b>naMouseOut</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventEmitter&lt;any&gt;</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="139" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:139</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="naMoveAlong"></a>
                        <b>naMoveAlong</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventEmitter&lt;any&gt;</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="145" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:145</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="naMoveEnd"></a>
                        <b>naMoveEnd</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventEmitter&lt;any&gt;</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="144" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:144</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="naMoving"></a>
                        <b>naMoving</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventEmitter&lt;any&gt;</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="143" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:143</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="naReady"></a>
                        <b>naReady</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://angular.io/api/core/EventEmitter" target="_blank" >EventEmitter</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="138" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:138</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>


            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="get"></a>
                    <span class="name">
                        <b>
                            get
                        </b>
                        <a href="#get"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>get()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="284"
                            class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:284</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>获取已创建的 AMap.Marker 对象</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngAfterContentInit"></a>
                    <span class="name">
                        <b>
                            ngAfterContentInit
                        </b>
                        <a href="#ngAfterContentInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngAfterContentInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="254"
                            class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:254</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnChanges"></a>
                    <span class="name">
                        <b>
                            ngOnChanges
                        </b>
                        <a href="#ngOnChanges"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnChanges(changes: <a href="https://angular.io/api/core/SimpleChanges" target="_blank">SimpleChanges</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="182"
                            class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:182</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>changes</td>
                                    <td>
                                                <code><a href="https://angular.io/api/core/SimpleChanges" target="_blank" >SimpleChanges</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <b>
                            ngOnDestroy
                        </b>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="175"
                            class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:175</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateInfoWindow"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            updateInfoWindow
                        </b>
                        <a href="#updateInfoWindow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateInfoWindow()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="259"
                            class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:259</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateInfoWindowPosition"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            updateInfoWindowPosition
                        </b>
                        <a href="#updateInfoWindowPosition"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateInfoWindowPosition()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="273"
                            class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:273</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="infoWindowComponent"></a>
                        <span class="name">
                            <b>
                            infoWindowComponent</b>
                            <a href="#infoWindowComponent"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new QueryList&lt;AmapInfoWindowComponent&gt;()</code>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @ContentChildren(AmapInfoWindowComponent)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="149" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:149</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="inited"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            inited</b>
                            <a href="#inited"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="151" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:151</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="subscription"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            subscription</b>
                            <a href="#subscription"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Subscription</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="152" class="link-to-prism">projects/ngx-amap/src/directives/amap-marker/amap-marker.directive.ts:152</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>


    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  Directive,
  Input,
  OnDestroy,
  Output,
  EventEmitter,
  SimpleChanges,
  OnChanges,
  ContentChildren,
  QueryList,
  AfterContentInit,
  NgZone,
} from &#x27;@angular/core&#x27;;
import { zip, Subscription } from &#x27;rxjs&#x27;;
import { AmapMarkerService } from &#x27;./amap-marker.service&#x27;;
import { LoggerService } from &#x27;../../shared/logger/logger.service&#x27;;
import { AMapOverlay, OverlayOptions } from &#x27;../../base/amap-overlay&#x27;;
import { EventBinderService } from &#x27;../../shared/event-binder.service&#x27;;
import { getOptions, ChangeFilter } from &#x27;../../utils&#x27;;
import { IPixel, IIcon, IMarkerLabel } from &#x27;../../interfaces&#x27;;
import { PixelService } from &#x27;../../shared/pixel.service&#x27;;
import { IconService } from &#x27;../../shared/icon.service&#x27;;
import { MarkerLabelService } from &#x27;../../shared/marker-label.service&#x27;;
import { AmapInfoWindowComponent } from &#x27;../../components/amap-info-window/amap-info-window.component&#x27;;
import { AMapService } from &#x27;../../shared/amap.service&#x27;;

const TAG &#x3D; &#x27;amap-marker&#x27;;
const ALL_OPTIONS &#x3D; [
  ...OverlayOptions,
  &#x27;position&#x27;,
  &#x27;anchor&#x27;,
  &#x27;offset&#x27;,
  &#x27;icon&#x27;,
  &#x27;content&#x27;,
  &#x27;topWhenClick&#x27;,
  &#x27;raiseOnDrag&#x27;,
  &#x27;visible&#x27;,
  &#x27;zIndex&#x27;,
  &#x27;angle&#x27;,
  &#x27;autoRotation&#x27;,
  &#x27;animation&#x27;,
  &#x27;shadow&#x27;,
  &#x27;title&#x27;,
  &#x27;shape&#x27;,
  &#x27;label&#x27;,
];

@Directive({
  selector: &#x27;amap-marker&#x27;,
  exportAs: &#x27;marker&#x27;,
  providers: [AmapMarkerService],
})
export class AmapMarkerDirective extends AMapOverlay&lt;AMap.Marker&gt;
  implements OnChanges, OnDestroy, AfterContentInit {
  // ---- Marker Options ----
  /**
   * 点标记在地图上显示的位置
   */
  @Input() position: AMap.LocationValue;
  /**
   * 标记锚点
   */
  @Input() anchor: AMap.Marker.Anchor;
  /**
   * 点标记显示位置偏移量
   */
  @Input() offset: AMap.Pixel | IPixel;
  /**
   * 需在点标记中显示的图标
   */
  @Input() icon: string | AMap.Icon | IIcon;
  /**
   * 点标记显示内容
   */
  @Input() content: string | HTMLElement;
  /**
   * 鼠标点击时marker是否置顶
   */
  @Input() topWhenClick: boolean;
  /**
   * 拖拽点标记时是否开启点标记离开地图的效果
   */
  @Input() raiseOnDrag: boolean;
  /**
   * 点标记是否可见
   */
  @Input() visible: boolean;
  /**
   * 点标记的叠加顺序
   */
  @Input() zIndex: number;
  /**
   * 点标记的旋转角度
   */
  @Input() angle: number;
  /**
   * 是否自动旋转
   */
  @Input() autoRotation: boolean;
  /**
   * 点标记的动画效果
   */
  @Input() animation: AMap.AnimationName;
  /**
   * 点标记阴影
   */
  @Input() shadow: AMap.Icon | string | IIcon;
  /**
   * 鼠标滑过点标记时的文字提示
   */
  @Input() title: string;
  /**
   * 可点击区域
   */
  @Input() shape: AMap.MarkerShape;
  /**
   * 文本标注
   */
  @Input() label: AMap.Marker.Label | IMarkerLabel;
  /**
   * 额外: 是否置顶
   */
  @Input() isTop: boolean;
  /**
   * 额外: 是否隐藏
   */
  @Input() hidden &#x3D; false;
  /**
   * 额外: 是否包含在点聚合中
   */
  @Input() inCluster &#x3D; false;
  /**
   * 额外: 点击时是否显示信息窗体
   */
  @Input() openInfoWindow &#x3D; true;

  // amap-marker events:
  @Output() naReady &#x3D; new EventEmitter();
  @Output() naMouseOut: EventEmitter&lt;any&gt;;
  @Output() naDragStart: EventEmitter&lt;any&gt;;
  @Output() naDragging: EventEmitter&lt;any&gt;;
  @Output() naDragEnd: EventEmitter&lt;any&gt;;
  @Output() naMoving: EventEmitter&lt;any&gt;;
  @Output() naMoveEnd: EventEmitter&lt;any&gt;;
  @Output() naMoveAlong: EventEmitter&lt;any&gt;;

  // amap info window:
  @ContentChildren(AmapInfoWindowComponent)
  infoWindowComponent &#x3D; new QueryList&lt;AmapInfoWindowComponent&gt;();

  private inited &#x3D; false;
  private subscription: Subscription;

  constructor(
    protected os: AmapMarkerService,
    protected binder: EventBinderService,
    private amaps: AMapService,
    private pixels: PixelService,
    private icons: IconService,
    private mlabels: MarkerLabelService,
    private logger: LoggerService,
    private ngZone: NgZone,
  ) {
    super(os, binder);
    const target &#x3D; this.os.get();
    this.naMouseOut &#x3D; this.binder.bindEvent(target, &#x27;mouseout&#x27;);
    this.naDragStart &#x3D; this.binder.bindEvent(target, &#x27;dragstart&#x27;);
    this.naDragging &#x3D; this.binder.bindEvent(target, &#x27;dragging&#x27;);
    this.naDragEnd &#x3D; this.binder.bindEvent(target, &#x27;dragend&#x27;);
    this.naMoving &#x3D; this.binder.bindEvent(target, &#x27;moving&#x27;);
    this.naMoveEnd &#x3D; this.binder.bindEvent(target, &#x27;moveend&#x27;);
    this.naMoveAlong &#x3D; this.binder.bindEvent(target, &#x27;movealong&#x27;);
  }

  ngOnDestroy() {
    if (this.subscription) {
      this.subscription.unsubscribe();
    }
    this.os.destroy();
  }

  ngOnChanges(changes: SimpleChanges) {
    const filter &#x3D; ChangeFilter.of(changes);
    const marker &#x3D; this.get();
    if (!this.inited) {
      // do not draw marker when no poistion defined.
      if (!this.position) {
        return;
      }
      this.amaps.get().subscribe(() &#x3D;&gt; {
        this.logger.d(TAG, &#x27;initializing ...&#x27;);
        // bind info window events:
        this.subscription &#x3D; this.binder.bindEvent(marker, &#x27;click&#x27;).subscribe(() &#x3D;&gt; {
          if (this.openInfoWindow) {
            this.infoWindowComponent.forEach(w &#x3D;&gt; w.open());
          }
        });
        const options &#x3D; getOptions&lt;AMap.Marker.Options&gt;(this, ALL_OPTIONS);
        if (this.icon) {
          options.icon &#x3D; this.icons.create(this.icon);
        }
        if (this.shadow) {
          options.shadow &#x3D; this.icons.create(this.shadow);
        }
        if (this.label) {
          options.label &#x3D; this.mlabels.create(this.label);
        }
        if (this.offset) {
          options.offset &#x3D; this.pixels.create(this.offset);
        }
        this.logger.d(TAG, &#x27;options:&#x27;, options);
        this.os.create(options, !this.inCluster).subscribe(m &#x3D;&gt; {
          this.ngZone.run(() &#x3D;&gt; this.naReady.emit(m));
          this.logger.d(TAG, &#x27;marker is ready.&#x27;);
        });
        this.inited &#x3D; true;
        this.updateInfoWindow();
        this.updateInfoWindowPosition();
      });
    } else {
      zip(filter.has&lt;string | AMap.Icon | IIcon&gt;(&#x27;icon&#x27;), marker).subscribe(([v, m]) &#x3D;&gt;
        m.setIcon(this.icons.create(v)),
      );
      zip(filter.has&lt;string | AMap.Icon&gt;(&#x27;shadow&#x27;), marker).subscribe(([v, m]) &#x3D;&gt;
        m.setShadow(this.icons.create(v)),
      );
      zip(filter.has&lt;AMap.Marker.Label | IMarkerLabel&gt;(&#x27;label&#x27;), marker).subscribe(([v, m]) &#x3D;&gt;
        m.setLabel(this.mlabels.create(v)),
      );
      zip(filter.has&lt;string&gt;(&#x27;title&#x27;), marker).subscribe(([v, m]) &#x3D;&gt; m.setTitle(v));
      zip(filter.has&lt;any&gt;(&#x27;content&#x27;), marker).subscribe(([v, m]) &#x3D;&gt; m.setContent(v));
      zip(filter.has&lt;any&gt;(&#x27;extData&#x27;), marker).subscribe(([v, m]) &#x3D;&gt; m.setExtData(v));
      zip(filter.has&lt;boolean&gt;(&#x27;clickable&#x27;), marker).subscribe(([v, m]) &#x3D;&gt; m.setClickable(!!v));
      zip(filter.has&lt;boolean&gt;(&#x27;draggable&#x27;), marker).subscribe(([v, m]) &#x3D;&gt; m.setDraggable(!!v));
      zip(filter.has&lt;boolean&gt;(&#x27;visible&#x27;), marker).subscribe(([v, m]) &#x3D;&gt; (v ? m.show() : m.hide()));
      zip(filter.has&lt;string&gt;(&#x27;cursor&#x27;), marker).subscribe(([v, m]) &#x3D;&gt; m.setCursor(v));
      zip(filter.has&lt;AMap.AnimationName&gt;(&#x27;animation&#x27;), marker).subscribe(([v, m]) &#x3D;&gt;
        m.setAnimation(v),
      );
      zip(filter.has&lt;number&gt;(&#x27;angle&#x27;), marker).subscribe(([v, m]) &#x3D;&gt; m.setAngle(v));
      zip(filter.has&lt;number&gt;(&#x27;zIndex&#x27;), marker).subscribe(([v, m]) &#x3D;&gt; m.setzIndex(v));
      zip(filter.has&lt;AMap.MarkerShape&gt;(&#x27;shape&#x27;), marker).subscribe(([v, m]) &#x3D;&gt; m.setShape(v));
      zip(filter.notEmpty&lt;AMap.Pixel | IPixel&gt;(&#x27;offset&#x27;), marker).subscribe(([v, m]) &#x3D;&gt;
        m.setOffset(this.pixels.create(v)),
      );
      zip(filter.notEmpty&lt;AMap.LocationValue&gt;(&#x27;position&#x27;), marker).subscribe(([v, m]) &#x3D;&gt;
        m.setPosition(v),
      );
    }
    zip(filter.has&lt;boolean&gt;(&#x27;isTop&#x27;), marker).subscribe(([v, m]) &#x3D;&gt; m.setTop(!!v));
    zip(filter.has&lt;boolean&gt;(&#x27;hidden&#x27;), marker).subscribe(([v, m]) &#x3D;&gt; (v ? m.hide() : m.show()));
  }

  ngAfterContentInit() {
    this.updateInfoWindow();
    this.infoWindowComponent.changes.subscribe(() &#x3D;&gt; this.updateInfoWindow());
  }

  private updateInfoWindow() {
    if (this.infoWindowComponent &amp;&amp; this.inited) {
      if (this.infoWindowComponent.length &gt; 1) {
        this.logger.e(TAG, &#x27;Expected no more than 1 info window.&#x27;);
        return;
      }

      const marker &#x3D; this.os.get();
      this.infoWindowComponent.forEach(component &#x3D;&gt; {
        component.hostMarker &#x3D; marker;
      });
    }
  }

  private updateInfoWindowPosition() {
    if (this.infoWindowComponent &amp;&amp; this.inited) {
      this.infoWindowComponent.forEach(component &#x3D;&gt; {
        component.toggleOpen();
      });
    }
  }

  /**
   * 获取已创建的 AMap.Marker 对象
   */
  get() {
    return this.os.get();
  }
}
</code></pre>
    </div>

</div>








                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'directive';
            var COMPODOC_CURRENT_PAGE_URL = 'AmapMarkerDirective.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
